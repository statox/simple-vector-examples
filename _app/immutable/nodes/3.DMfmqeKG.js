import"../chunks/DsnmJJEf.js";import{az as C,D as F,h as _,p as D,f as Y,t as P,c as I,d as E,aD as O,T as q,U as B,I as f,s as g,b as L,O as w,P as b}from"../chunks/-Qh84bmZ.js";import{c as V,o as G,a as H,s as p}from"../chunks/DZ4Ql4qk.js";import{p as T,_ as J}from"../chunks/BMOGl2bV.js";import{i as K}from"../chunks/Cn7v2H41.js";function Q(i,t,e){C(()=>{var s=F(()=>t(i,e?.())||{});if(s?.destroy)return()=>s.destroy()})}function j(i,t){return i==null?null:String(i)}function $(i,t,e,s){var n=i.__style;if(_||n!==t){var h=j(t);(!_||h!==i.getAttribute("style"))&&(h==null?i.removeAttribute("style"):i.style.cssText=h),i.__style=t}return s}class N extends Error{constructor(){super("Tried to divide by 0")}}class x{x=0;y=0;constructor(t=0,e=0){this.x=t,this.y=e}static fromArray=t=>{if(t.length<2)throw new TypeError("The length of the argument array must be at least 2");if(t[0]===null||t[0]===void 0||Number.isNaN(Number(t[0]))||Number.isNaN(t[0]))throw new TypeError("The length of the argument array must be at least 2");if(t[1]===null||t[1]===void 0||Number.isNaN(Number(t[1]))||Number.isNaN(t[1]))throw new TypeError("The length of the argument array must be at least 2");return new x(Number(t[0]),Number(t[1]))};static fromObject=t=>{if(t.x===null||t.x===void 0||t.y===null||t.y===void 0)throw new TypeError("The argument object must have a .x and .y properties");if(Number.isNaN(Number(t.x))||Number.isNaN(t.x))throw new TypeError("The .x property of the argument object must be a number");if(Number.isNaN(Number(t.y))||Number.isNaN(t.y))throw new TypeError("The .y property of the argument object must be a number");return new x(Number(t.x),Number(t.y))};static fromPolar=(t,e)=>new x(e*Math.cos(t),e*Math.sin(t));addX(t){return this.x+=t.x,this}addY(t){return this.y+=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addScalarX(t){return this.x+=t,this}addScalarY(t){return this.y+=t,this}subtractX(t){return this.x-=t.x,this}subtractY(t){return this.y-=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}subtractScalarX(t){return this.x-=t,this}subtractScalarY(t){return this.y-=t,this}divideX(t){if(t.x===0)throw new N;return this.x/=t.x,this}divideY(t){if(t.y===0)throw new N;return this.y/=t.y,this}divide(t){if(t.x===0||t.y===0)throw new N;return this.x/=t.x,this.y/=t.y,this}divideScalar(t){if(t===0)throw new N;return this.x/=t,this.y/=t,this}divideScalarX(t){if(t===0)throw new N;return this.x/=t,this}divideScalarY(t){if(t===0)throw new N;return this.y/=t,this}multiplyX(t){return this.x*=t.x,this}multiplyY(t){return this.y*=t.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}multiplyScalarX(t){return this.x*=t,this}multiplyScalarY(t){return this.y*=t,this}invertX(){return this.x*=-1,this}invertY(){return this.y*=-1,this}invert(){return this.x*=-1,this.y*=-1,this}normalize(){const t=this.length();return this.divideScalar(t),this}norm=this.normalize;clampX(t,e){if(e!=null){if(e>t)throw RangeError("min must be smaller than max");this.x=Math.max(this.x,e)}return this.x=Math.min(this.x,t),this}clampY(t,e){if(e!=null){if(e>t)throw RangeError("min must be smaller than max");this.y=Math.max(this.y,e)}return this.y=Math.min(this.y,t),this}clamp(t,e){const s=this.magnitude();let n=Number.MIN_VALUE;if(e!=null){if(e>t)throw RangeError("min must be smaller than max");n=e}const h=Math.max(Math.min(s,t),n);return this.resize(h),this}limitX(t,e){return Math.abs(this.x)>t&&(this.x*=e),this}limitY(t,e){return Math.abs(this.y)>t&&(this.y*=e),this}limit(t,e){return this.limitX(t,e),this.limitY(t,e),this}randomizeX(t,e){const s=Math.min(t.x,e.x),n=Math.max(t.x,e.x);return this.x=X(s,n),this}randomizeY(t,e){const s=Math.min(t.y,e.y),n=Math.max(t.y,e.y);return this.y=X(s,n),this}randomize(t,e){return this.randomizeX(t,e),this.randomizeY(t,e),this}randomizeAny(t,e){return Math.random()<.5?this.randomizeX(t,e):this.randomizeY(t,e),this}unfloat(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}fixPrecision(t=8){return this.x=Number(this.x.toFixed(t)),this.y=Number(this.y.toFixed(t)),this}mixX(t,e=.5){if(e<0||e>1)throw new RangeError("The amount argument must be between 0 and 1.");return this.x=(1-e)*this.x+e*t.x,this}mixY(t,e=.5){if(e<0||e>1)throw new RangeError("The amount argument must be between 0 and 1.");return this.y=(1-e)*this.y+e*t.y,this}mix(t,e=.5){if(e<0||e>1)throw new RangeError("The amount argument must be between 0 and 1.");return this.mixX(t,e),this.mixY(t,e),this}clone(){return new x(this.x,this.y)}copyX(t){return this.x=t.x,this}copyY(t){return this.y=t.y,this}copy(t){return this.x=t.x,this.y=t.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}projectOnto(t){const e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this}horizontalAngle(){return Math.atan2(this.y,this.x)}horizontalAngleDeg(){return z(this.horizontalAngle())}verticalAngle(){return Math.atan2(this.x,this.y)}verticalAngleDeg(){return z(this.verticalAngle())}angle=this.horizontalAngle;direction=this.horizontalAngle;angleDeg=this.horizontalAngleDeg;angleWith(t){return this.isZero()&&t.isZero()?0:Math.acos((this.x*t.x+this.y*t.y)/(this.magnitude()*t.magnitude()))}angleDegWith(t){return z(this.angleWith(t))}orientedAngleWith(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)}orientedAngleDegWith(t){return z(this.orientedAngleWith(t))}rotateBy(t){const e=this.x*Math.cos(t)-this.y*Math.sin(t),s=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=s,this}rotateTowards(t,e){if(e<=0)throw new RangeError("The max angle must be positive");const s=this.angleWith(t);let n=Math.min(s,e);return this.cross(t)<0&&(n=-n),this.rotateBy(n)}rotateTowardsDeg(t,e){return this.rotateTowards(t,S(e))}rotateByDeg(t){const e=S(t);return this.rotateBy(e)}rotateTo(t){return this.rotateBy(t-this.horizontalAngle())}rotateToDeg(t){const e=S(t);return this.rotateTo(e)}distanceX(t){return this.x-t.x}absDistanceX(t){return Math.abs(this.distanceX(t))}distanceY(t){return this.y-t.y}absDistanceY(t){return Math.abs(this.distanceY(t))}distance(t){return Math.sqrt(this.distanceSq(t))}distanceSq(t){const e=this.distanceX(t),s=this.distanceY(t);return e*e+s*s}length(){return Math.sqrt(this.lengthSq())}magnitude=this.length;lengthSq(){return this.x*this.x+this.y*this.y}zero(){return this.x=0,this.y=0,this}resize(t){return this.normalize(),this.multiplyScalar(t),this}isParallelTo(t){return Math.abs(this.cross(t))<1e-6}isPerpendicularTo(t){return Math.abs(this.dot(t))<1e-6}isZero(){return this.x===0&&this.y===0}isEqualTo(t){return this.x===t.x&&this.y===t.y}toString(){return`x:${this.x}, y:${this.y}`}toArray(){return[this.x,this.y]}toObject(){return{x:this.x,y:this.y}}toPolar(){const t=Math.atan(this.y/this.x);return{r:Math.sqrt(this.x*this.x+this.y*this.y),theta:Number.isNaN(t)?0:t}}}const W=180/Math.PI;function X(i,t){return Math.random()*(t-i)+i}function z(i){return i*W}function S(i){return i/W}var tt=Y('<div class="m-0"></div>');function et(i,t){D(t,!1);let e=T(t,"target",12,void 0),s=T(t,"sketch",8,void 0),n=T(t,"parentDivStyle",8,"display: block;"),h=T(t,"debug",8,!1),r;const o=V(),d={ref(){o("ref",e())},instance(){o("instance",r)}};function u(l){return e(l),{destroy(){e(void 0)}}}function v(l,c){return c.forEach(([A,m])=>l[A]=m),l}G(async()=>{const l=await J(()=>import("../chunks/BeuaAw6C.js").then(a=>a.p),[]),{default:c}=l,m=Object.entries(l).filter(([a,M])=>M instanceof Function&&a[0]!=="_"&&a!=="default");h()&&console.log("available p5 native classes",m),r=new c(a=>(a=v(a,m),h()&&console.log("p5 instance",a),window._p5Instance=a,s()(a)),e()),d.ref(),d.instance()}),K();var y=tt();Q(y,l=>u?.(l)),P(()=>$(y,n())),I(i,y),E()}function rt(i,t){D(t,!0);let e,s=O(q(new x(0,0)));const n=(r,o)=>{const d=r.width/2+o.x,u=r.height/2-o.y;r.line(r.width/2,r.height/2,d,u);const v=o.clone().invert().rotateByDeg(45).resize(10);r.line(d,u,d+v.x,u-v.y);const y=o.clone().invert().rotateByDeg(-45).resize(10);r.line(d,u,d+y.x,u-y.y)},h=r=>{r.setup=()=>{e=r,r.createCanvas(300,300)},r.draw=()=>{r.background(240,240,240),n(r,t.v),r.mouseIsPressed&&(B(s,new x(r.mouseX-r.width/2,r.height/2-r.mouseY).fixPrecision(0),!0),t.onVectorUpdate(f(s)))}};H(()=>{e?.remove()}),et(i,{sketch:h}),E()}var it=Y('<h2>Angle</h2> <!> <div class="container svelte-kqdfhn"><div><code>v</code></div> <div> </div> <div><code>v.horizontalAngle()</code></div> <div> </div> <div><code>v.horizontalAngleDeg()</code></div> <div> </div> <div><code>v.verticalAngle()</code></div> <div> </div> <div><code>v.verticalAngleDeg()</code></div> <div> </div></div>',1);function ut(i,t){D(t,!0);let e=O(q(new x(0,100)));const s=M=>{B(e,M.clone(),!0)};var n=it(),h=g(L(n),2);rt(h,{get v(){return f(e)},onVectorUpdate:s});var r=g(h,2),o=g(w(r),2),d=w(o,!0);b(o);var u=g(o,4),v=w(u,!0);b(u);var y=g(u,4),l=w(y,!0);b(y);var c=g(y,4),A=w(c,!0);b(c);var m=g(c,4),a=w(m,!0);b(m),b(r),P((M,k,R,U,Z)=>{p(d,M),p(v,k),p(l,R),p(A,U),p(a,Z)},[()=>f(e).toString(),()=>f(e).horizontalAngle(),()=>f(e).horizontalAngleDeg(),()=>f(e).verticalAngle(),()=>f(e).verticalAngleDeg()]),I(i,n),E()}export{ut as component};
